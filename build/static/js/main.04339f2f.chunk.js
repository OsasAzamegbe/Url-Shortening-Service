(this["webpackJsonpurl-shortening-frontend"]=this["webpackJsonpurl-shortening-frontend"]||[]).push([[0],{23:function(e,t,a){e.exports=a(47)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(20),c=a.n(s),l=(a(28),a(4)),i=(a(29),a(6)),o=a(2),u=a(14),m=a(22),p=(a(30),["btn--primary","btn--outline"]),b=["btn--medium","btn--large","btn--mobile","btn--wide"],d=["primary","blue","red","green"],g=function(e){var t=e.children,a=e.type,n=e.onClick,s=e.buttonStyle,c=e.buttonSize,l=e.buttonColor,i=p.includes(s)?s:p[0],o=b.includes(c)?c:b[0],u=d.includes(l)?l:"";return r.a.createElement("button",{type:a,onClick:n,className:"btn ".concat(i," ").concat(o," ").concat(u)},t)},h=(a(31),function(e){var t=e.user,a=Object(n.useState)(!1),s=Object(l.a)(a,2),c=s[0],o=s[1],p=Object(n.useState)(!0),b=Object(l.a)(p,2),d=b[0],h=b[1],f=function(){return o(!1)};return window.addEventListener("resize",(function(){window.innerWidth<=960?h(!1):h(!0)})),r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"navbar-container container"},r.a.createElement(i.b,{to:"/app",className:"navbar-logo",onClick:f},r.a.createElement(m.a,{className:"navbar-icon"}),"Shorten"),r.a.createElement("div",{className:"menu-icon",onClick:function(){return o(!c)}},c?r.a.createElement(u.c,{className:"fa-times"}):r.a.createElement(u.a,{className:"fa-bars"})),0!==Object.keys(t).length?r.a.createElement("ul",{className:c?"nav-menu active":"nav-menu"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{to:"/app/profile",className:"nav-links",onClick:f},"Profile")),r.a.createElement("li",{className:"nav-btn"},r.a.createElement(i.b,{to:"/app/logout",className:"btn-link",onClick:f},d?r.a.createElement(g,{buttonStyle:"btn--outline"},"LOG OUT"):r.a.createElement(g,{buttonStyle:"btn--outline",buttonSize:"btn--mobile"},"LOG OUT")))):r.a.createElement("ul",{className:c?"nav-menu active":"nav-menu"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{to:"/app/login",className:"nav-links",onClick:f},"Login")),r.a.createElement("li",{className:"nav-btn"},r.a.createElement(i.b,{to:"/app/sign-up",className:"btn-link",onClick:f},d?r.a.createElement(g,{buttonStyle:"btn--outline"},"SIGN UP"):r.a.createElement(g,{buttonStyle:"btn--outline",buttonSize:"btn--mobile"},"SIGN UP"))))))}),f=a(9),v=a.n(f),E=a(3),O=a(11),j=(a(38),function(e){var t=Object.keys(e),a={};return t.includes("username")&&(""===e.username.trim()?a.username="* Required":e.username.length>20&&(a.username="Must be 20 characters or less")),t.includes("password")&&(""===e.password.trim()?a.password="* Required":e.password.length<8?a.password="Must be longer than 8 characters":e.password.length>100&&(a.password="Must be less than 100 characters")),t.includes("email")&&(""===e.email.trim()?a.email="* Required":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?e.email.length>100&&(a.email="Must be 100 characters or less"):a.email="Invalid email address"),a}),N=function(e){var t=e.alerts,a=e.setAlerts,s=Object(n.useState)(""),c=Object(l.a)(s,2),i=c[0],u=c[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),b=p[0],d=p[1],h=Object(n.useState)(""),f=Object(l.a)(h,2),N=f[0],w=f[1],S=Object(n.useState)({}),x=Object(l.a)(S,2),y=x[0],k=x[1],C=Object(o.f)(),L=function(){var e=Object(O.a)(v.a.mark((function e(){var n,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0===Object.keys(y).length&&i&&b&&N)){e.next=14;break}return"/api/v1/register",n={username:i,email:b,password:N},u(""),d(""),w(""),e.next=8,fetch("/api/v1/register",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 8:return r=e.sent,e.next=11,r.json();case 11:s=e.sent,201===r.status?(C.push({pathname:"/app/login",state:{emailInput:b,passwordInput:N}}),a(Object(E.a)(Object(E.a)({},t),{},{signup:{text:s.message,success:!0}}))):a(Object(E.a)(Object(E.a)({},t),{},{signup:{text:s.message,success:!1}})),setTimeout((function(){a(Object(E.a)(Object(E.a)({},t),{},{signup:{}}))}),4e3);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){L()}),[y]),r.a.createElement("div",null,r.a.createElement("section",{className:"sign-up-subscription"},r.a.createElement("p",{className:"sign-up-subscription-heading"},"Sign Up"),t.signup?r.a.createElement("div",{className:"alert ".concat(t.signup.success?"alert-success":null)},r.a.createElement("p",{className:"alert-text"},t.signup.text)):null,r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=j({username:i,email:b,password:N});k(t)},className:"sign-up-container"},r.a.createElement("input",{onChange:function(e){u(e.target.value)},value:i,className:"sign-up-input",name:"username",type:"text",placeholder:"Your Username"}),y.username?r.a.createElement("div",{className:"errors"},y.username):null,r.a.createElement("input",{onChange:function(e){d(e.target.value)},value:b,className:"sign-up-input",name:"email",placeholder:"Your Email"}),y.email?r.a.createElement("div",{className:"errors"},y.email):null,r.a.createElement("input",{onChange:function(e){w(e.target.value)},value:N,className:"sign-up-input",name:"password",type:"password",placeholder:"New Password"}),y.password?r.a.createElement("div",{className:"errors"},y.password):null,r.a.createElement(g,{buttonStyle:"btn--outline",children:"Sign Up"})))))},w=(a(39),a(40),function(e){var t=e.setLongUrl,a=Object(n.useState)(""),s=Object(l.a)(a,2),c=s[0],i=s[1];return r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(c),i("")}},r.a.createElement("input",{onChange:function(e){i(e.target.value)},value:c,type:"url",placeholder:"paste URL",required:!0}),r.a.createElement(g,{type:"submit",children:"Shorten",buttonColor:"red",buttonSize:"btn--large"})))}),S=(a(41),function(e){var t,a=e.item,s=Object(n.useRef)(null);return r.a.createElement("div",null,r.a.createElement("div",{className:"rows"},r.a.createElement(i.b,{to:a.url.slice(6),target:"_blank"},r.a.createElement("div",{className:"item"},r.a.createElement("li",null,r.a.createElement("p",{ref:s,className:"item-text"},a.shortUrl),r.a.createElement("p",{className:"item-subtext"},"created: ".concat((t=a.dateCreated,new Date(t).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}))))))),r.a.createElement("div",{onClick:function(e){var t=s.current.innerHTML;navigator.clipboard.writeText(t),window.alert('Copied "'.concat(t,'" to clipboard!'))},className:"copy-icon"},r.a.createElement(u.b,null))))}),x=(a(42),function(e){var t=e.items,a=e.heading;return r.a.createElement("div",{className:"list-container"},a?r.a.createElement("div",{className:"list-heading-wrapper"},r.a.createElement("p",{className:"list-heading"},a)):"",r.a.createElement("ul",{className:"list-list"},t.map((function(e,t){return r.a.createElement(S,{key:t,item:e})}))))}),y=function(e){var t=e.user,a=e.alerts,s=e.setAlerts,c=Object(n.useState)([]),i=Object(l.a)(c,2),o=i[0],u=i[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),b=p[0],d=p[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(v.a.mark((function e(){var t,n,r,c,l,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("user"))){e.next=15;break}return n=JSON.parse(t),r=n.token,"/api/v1/shorten",c={url:b},e.next=8,fetch("/api/v1/shorten",{method:"POST",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify(c)});case 8:return l=e.sent,e.next=11,l.json();case 11:i=e.sent,d(""),201===l.status?s(Object(E.a)(Object(E.a)({},a),{},{signup:{text:i.message,success:!0}})):s(Object(E.a)(Object(E.a)({},a),{},{signup:{text:i.message,success:!1}})),setTimeout((function(){s(Object(E.a)(Object(E.a)({},a),{},{signup:{}}))}),4e3);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(O.a)(v.a.mark((function e(){var t,a,n,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("user"))){e.next=12;break}return a=JSON.parse(t),n=a.token,"/api/v1/shorten",e.next=7,fetch("/api/v1/shorten",{method:"GET",headers:{Authorization:n}});case 7:return r=e.sent,e.next=10,r.json();case 10:(s=e.sent).urls&&u(s.urls);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();b?e().then(t()):t()}),[b]),r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profile-container"},r.a.createElement("h1",{className:"profile-heading"},"Welcome, ",t.username),a.signup?r.a.createElement("div",{className:"alert ".concat(a.signup.success?"alert-success":null)},r.a.createElement("p",{className:"alert-text"},a.signup.text)):null,r.a.createElement(w,{setLongUrl:d}),r.a.createElement(x,{heading:"Shortened URLs",items:o})))},k=(a(43),function(e){var t=e.setUser,a=e.alerts,s=e.setAlerts,c=Object(n.useState)(""),i=Object(l.a)(c,2),u=i[0],m=i[1],p=Object(n.useState)(""),b=Object(l.a)(p,2),d=b[0],h=b[1],f=Object(n.useState)({}),N=Object(l.a)(f,2),w=N[0],S=N[1],x=Object(o.f)(),y=Object(o.g)();Object(n.useEffect)((function(){y.state&&y.state.emailInput&&y.state.passwordInput&&(m(y.state.emailInput),h(y.state.passwordInput))}),[y]);var k=function(){var e=Object(O.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=j({email:u,password:d}),S(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(O.a)(v.a.mark((function e(){var n,r,c,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Object.keys(w).length||!u||!d){e.next=14;break}return"/api/v1/login",n={email:u,password:d},m(""),h(""),e.next=7,fetch("/api/v1/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 7:return r=e.sent,e.next=10,r.json();case 10:c=e.sent,l=c.user,200===r.status?(localStorage.setItem("user",JSON.stringify(l)),t(l),x.push("/app/profile"),s(Object(E.a)(Object(E.a)({},a),{},{login:{text:c.message,success:!0}}))):s(Object(E.a)(Object(E.a)({},a),{},{login:{text:c.message,success:!1}})),setTimeout((function(){s(Object(E.a)(Object(E.a)({},a),{},{login:{}}))}),4e3);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){C()}),[w]),r.a.createElement("div",null,r.a.createElement("section",{className:"login-subscription"},r.a.createElement("p",{className:"login-subscription-heading"},"Login"),a.login?r.a.createElement("div",{className:"alert ".concat(a.login.success?"alert-success":null)},r.a.createElement("p",{className:"alert-text"},a.login.text)):null,r.a.createElement("div",null,r.a.createElement("form",{onSubmit:k,className:"login-container"},r.a.createElement("input",{onChange:function(e){m(e.target.value)},value:u,className:"login-input",name:"email",placeholder:"Your Email"}),w.email?r.a.createElement("div",{className:"errors"},w.email):null,r.a.createElement("input",{onChange:function(e){h(e.target.value)},value:d,className:"login-input",name:"password",type:"password",placeholder:"Your Password"}),w.password?r.a.createElement("div",{className:"errors"},w.password):null,r.a.createElement(g,{buttonStyle:"btn--outline",children:"Login"})))))}),C=(a(44),function(e){var t=e.setUser;return Object(n.useEffect)((function(){t({}),localStorage.clear()}),[]),r.a.createElement("div",{className:"logout-container"},r.a.createElement("p",{className:"logout-headline"},"You Have Been Logged Out!"))}),L=(a(45),a(46),function(e){var t=e.lightBg,a=e.topLine,n=e.lightText,s=e.lightTextDesc,c=e.headLine,l=e.description,o=e.buttonLabel,u=e.img,m=e.alt,p=e.imgStart,b=e.hideButton;return r.a.createElement("div",{className:t?"home__home-section":"home__home-section darkBg"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row home__home-row",style:{display:"flex",flexDirection:p?"row-reverse":"row"}},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"home__home-text-wraper"},r.a.createElement("div",{className:"top-line"},a),r.a.createElement("h1",{className:n?"heading":"heading dark"},c),r.a.createElement("p",{className:s?"home__home-subtitle":"home__home-subtitle dark"},l),b?"":r.a.createElement(i.b,{to:"/app/sign-up"},r.a.createElement(g,{buttonSize:"btn--wide",buttonColor:"red"},o)))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"home__home-img-wrapper"},r.a.createElement("img",{className:"home__home-img",src:u,alt:m}))))))}),T={lightBg:!0,lightText:!1,lightTextDesc:!1,topLine:"Shorten Links Expeditiously",headLine:"Start Today!",description:"Welcome to Shorten. This is a URL shortening service for creating short links, that are highly available, on the fly!",buttonLabel:"Create A Free Account",imgStart:!1,img:"images/homepage.png",alt:"Home page illustration"},U=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"home-container"},r.a.createElement(L,T)))},_=function(){var e=Object(o.f)();return Object(n.useEffect)((function(){e.push("/app")}),[e]),r.a.createElement("div",null)};var I=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)({}),u=Object(l.a)(c,2),m=u[0],p=u[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);s(t)}}),[]),r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(h,{user:a}),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:_}),r.a.createElement(o.a,{path:"/app",exact:!0,component:U}),r.a.createElement(o.a,{path:"/app/profile",exact:!0,render:function(e){return r.a.createElement(y,Object.assign({},e,{user:a,alerts:m,setAlerts:p}))}}),r.a.createElement(o.a,{path:"/app/sign-up",exact:!0,render:function(e){return r.a.createElement(N,Object.assign({},e,{alerts:m,setAlerts:p}))}}),r.a.createElement(o.a,{path:"/app/login",exact:!0,render:function(e){return r.a.createElement(k,Object.assign({},e,{setUser:s,alerts:m,setAlerts:p}))}}),r.a.createElement(o.a,{path:"/app/logout",exact:!0,render:function(e){return r.a.createElement(C,Object.assign({},e,{setUser:s}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.04339f2f.chunk.js.map